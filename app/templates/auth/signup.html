{% extends "base.html" %}

{% block content %}
<div class="min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8">

  <!-- Logo + Title -->
  <div class="sm:mx-auto sm:w-full sm:max-w-md text-center">
    <div class="flex justify-center mb-8">
      <img src="{{ url_for('static', filename='img/icons/logo-hand.svg') }}" alt="Dr-Labib"
        class="h-20 w-auto md:h-24">
    </div>
    <h2 class="text-5xl font-bold text-[#fe6449]">Dr. Labib</h2>
    <p class="mt-4 text-center text-lg text-gray-600">Create your account</p>
  </div>

  <form class="space-y-7" method="POST" action="{{ url_for('auth.signup') }}">
    {{ form.hidden_tag() }} <!-- CSRF protection -->

    <!-- Full Name -->
    <div class="relative">
      <label class="block text-sm font-medium text-gray-700 mb-2">Full Name</label>
      <div class="relative">
        {{ form.full_name(class="w-full px-5 py-5 pr-14 border border-gray-300 rounded-xl text-lg placeholder-gray-400
        focus:outline-none focus:ring-2 focus:ring-[#073a3b] focus:border-[#073a3b]", placeholder="Enter your full name") }}
        {% if form.full_name.errors %}
        <p class="text-red-500 text-sm mt-1">{{ form.full_name.errors[0] }}</p>
        {% endif %}
        <div class="absolute inset-y-0 right-0 pr-5 flex items-center pointer-events-none">
          <i class="fas fa-user text-[#073a3b] text-xl"></i>
        </div>
      </div>
    </div>

    <!-- Phone Number -->
    <div class="relative">
      <label class="block text-sm font-medium text-gray-700 mb-2">Phone Number</label>
      <div class="relative">
        {{ form.phone(class="w-full px-5 py-5 pr-14 border border-gray-300 rounded-xl text-lg placeholder-gray-400
        focus:outline-none focus:ring-2 focus:ring-[#073a3b] focus:border-[#073a3b]", placeholder="e.g., 0551234567") }}
        {% if form.phone.errors %}
        <p class="text-red-500 text-sm mt-1">{{ form.phone.errors[0] }}</p>
        {% endif %}
        <div class="absolute inset-y-0 right-0 pr-5 flex items-center pointer-events-none">
          <i class="fas fa-phone-alt text-[#073a3b] text-xl"></i>
        </div>
      </div>
    </div>

    <!-- Email -->
    <div class="relative">
      <label class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
      <div class="relative">
        {{ form.email(class="w-full px-5 py-5 pr-14 border border-gray-300 rounded-xl text-lg placeholder-gray-400
        focus:outline-none focus:ring-2 focus:ring-[#073a3b] focus:border-[#073a3b]", placeholder="Enter your email") }}
        {% if form.email.errors %}
        <p class="text-red-500 text-sm mt-1">{{ form.email.errors[0] }}</p>
        {% endif %}
        <div class="absolute inset-y-0 right-0 pr-5 flex items-center pointer-events-none">
          <i class="fas fa-envelope text-[#073a3b] text-xl"></i>
        </div>
      </div>
    </div>

    <!-- Password -->
    <div class="relative">
      <label class="block text-sm font-medium text-gray-700 mb-2">Password</label>
      <div class="relative">
        {{ form.password(class="w-full px-5 py-5 pr-14 border border-gray-300 rounded-xl text-lg placeholder-gray-400
        focus:outline-none focus:ring-2 focus:ring-[#073a3b] focus:border-[#073a3b]", placeholder="Create a strong password") }}
        {% if form.password.errors %}
        <p class="text-red-500 text-sm mt-1">{{ form.password.errors[0] }}</p>
        {% endif %}
        <div class="absolute inset-y-0 right-0 pr-5 flex items-center pointer-events-none">
          <i class="fas fa-lock text-[#073a3b] text-xl"></i>
        </div>
      </div>
    </div>

    <!-- Confirm Password -->
    <div class="relative">
      <label class="block text-sm font-medium text-gray-700 mb-2">Confirm Password</label>
      <div class="relative">
        {{ form.confirm_password(class="w-full px-5 py-5 pr-14 border border-gray-300 rounded-xl text-lg
        placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#073a3b] focus:border-[#073a3b]",
        placeholder="Confirm your password") }}
        {% if form.confirm_password.errors %}
        <p class="text-red-500 text-sm mt-1">{{ form.confirm_password.errors[0] }}</p>
        {% endif %}
        <div class="absolute inset-y-0 right-0 pr-5 flex items-center pointer-events-none">
          <i class="fas fa-lock text-[#073a3b] text-xl"></i>
        </div>
      </div>
    </div>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    {% for category, message in messages %}
    <div
      class="mt-4 p-4 rounded-xl text-center font-medium 
                    {% if category == 'success' %}bg-green-100 text-green-800{% else %}bg-red-100 text-red-800{% endif %}">
      {{ message }}
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}

    <!-- Sign Up Button -->
    <div class="pt-4">
      {{ form.submit(class="w-full py-5 rounded-xl text-xl font-bold text-white bg-[#073a3b] hover:bg-[#052d2e]
      focus:outline-none focus:ring-4 focus:ring-[#073a3b]/30 transition duration-200") }}
    </div>
  </form>

  <!-- Bottom Hands Illustration -->
  <div class="mt-16 flex justify-center">
    <img src="{{ url_for('static', filename='img/icons/bottom-decoration.svg') }}" alt=""
      class="w-full max-w-2xl opacity-75">
  </div>

</div>
{% endblock %}